(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c2e8360"],{"02dc":function(e,t,a){"use strict";a.r(t);var n=a("7e4c"),i=a("06b5");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"0302":function(e,t,a){"use strict";a.r(t);var n=a("664d"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"06b5":function(e,t,a){"use strict";a.r(t);var n=a("e64e"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"2af4":function(e,t,a){"use strict";var n=a("584b");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"317b":function(e,t,a){"use strict";a.r(t);var n=a("8685"),i=a("0302");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("ad9f");var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"47f0cae6",null);t["default"]=o.exports},3668:function(e,t,a){"use strict";a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("7f7f");var n=function(){var e=this,t=e._self._c;return t("div",[e._l(e.ads,(function(a,n){return[t("div",{staticClass:"pa-4 white mb-8 product-list d-sm-flex",attrs:{id:n}},[t("div",{staticClass:"tab-image"},[t("v-img",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{contain:!0,src:a.src}}),t("v-img",{staticStyle:{width:"100%"},attrs:{contain:!0,src:a.src_ar}})],1),t("div",{staticClass:"section-content pl-sm-6 pt-sm-0 pt-6"},[t("h4",[e._v(e._s(a.name))]),t("span",{staticClass:"fs-14 d-flex"},[t("span",{staticClass:"primary--text"},[t("v-chip",{staticClass:"mr-2",attrs:{small:""}},[e._v("Ends:")]),e.isAdEnded(a.ends_at)?t("s",[e._v(e._s(a.ends_at_formatted))]):t("span",[e._v(e._s(a.ends_at?a.ends_at_formatted:"-"))]),e.isAdEnded(a.ends_at)?t("v-chip",{staticClass:"ml-2",attrs:{"x-small":"",color:"error"}},[e._v("Ended")]):e._e()],1)]),t("p",{staticClass:"fs-14 mt-2"},[t("v-chip",{staticClass:"mr-2",attrs:{small:""}},[e._v(" Referer:")]),e._v("\n            "+e._s(a.external?a.referer_link:e.getScreenName(a.referer_screen))+"\n          ")],1),t("p",{staticClass:"fs-14"},[t("v-chip",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n              Hits:\n            ")]),e._v("\n            "+e._s(a.hits)+"\n          ")],1),t("p",{staticClass:"fs-14"},[t("v-chip",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n              Active:\n            ")]),t("v-chip",{staticClass:"white--text",attrs:{small:"",pill:"",color:a.active?"green":"red"}},[a.active?t("v-icon",{attrs:{"x-small":""}},[e._v("check")]):t("v-icon",{attrs:{"x-small":""}},[e._v("block")])],1)],1)]),t("div",{staticClass:"action-btn text-right"},[t("div",[t("v-btn",{attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(t){return e.openDialog(a)}}},[t("v-icon",{attrs:{dark:"",small:""}},[e._v("edit")])],1),t("v-btn",{staticClass:"mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(t){return e.confirm(a)}}},[t("v-icon",{attrs:{dark:"",small:""}},[e._v("delete")])],1)],1)])])]}))],2)};t.render=n;var i=[];t.staticRenderFns=i},"584b":function(e,t,a){"use strict";a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",[t("page-title-bar"),t("v-container",{attrs:{fluid:"","pt-0":"","grid-list-xl":""}},[t("div",{staticClass:"d-md-inline-flex mb-5"},[t("v-select",{staticClass:"mr-md-5",attrs:{items:e.pages,"item-value":"id","item-text":"name",label:"Page","return-object":""},on:{change:e.changePage},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:"selectedPage"}})],1),t("v-layout",{attrs:{row:"",wrap:"","align-items-center":"","search-wrap":""}},[t("v-flex",{staticClass:"mx-auto",attrs:{xs12:"",sm10:"",md8:"",lg8:""}},[t("div",[t("v-card",{attrs:{loading:e.loading,height:"2px",flat:""}}),t("AdsList",{attrs:{open:e.open,"open-delete-confirmation":e.openConfirmationDialog}})],1)])],1),t("v-dialog",{attrs:{"max-width":"700px"},on:{"click:outside":e.close,close:e.close},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("ad-dialog"),t("v-card-actions",[t("v-btn",{staticClass:"mr-3 mt-2",attrs:{disabled:e.loading,color:"primary",loading:e.loading},on:{click:e.save}},[t("div",[e._v("Save")])]),t("v-btn",{staticClass:"float-right mt-2",attrs:{color:"warning"},on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}},[e._v("Cancel")])],1)],1)],1),t("v-dialog",{attrs:{"max-width":"700px"},on:{close:e.closeConfirmationDialog},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}},[t("v-card",[t("v-card-title",[t("p",[e._v("Are you sure you want to delete this ad?")]),t("v-alert",{staticClass:"text-break",attrs:{border:"left",type:"error"}},[t("b",{staticClass:"text-uppercase"},[e._v("Warning:")]),e._v(" Deleting ad will result in deleting it from all mobile screens if it\n            appears in any.\n            Note this action is "),t("b",{staticClass:"text-uppercase"},[e._v("irreversible")])])],1),t("v-card-actions",[t("v-btn",{attrs:{color:"error",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.stopPropagation(),e.deleteAd.apply(null,arguments)}}},[e._v("\n            Delete\n          ")]),t("v-btn",{attrs:{color:"warning"},on:{click:function(t){return t.stopPropagation(),e.closeConfirmationDialog.apply(null,arguments)}}},[e._v("Cancel")])],1)],1)],1),t("v-btn",{attrs:{color:"primary"},on:{click:e.openNewDialog}},[e._v("\n      + Add New\n    ")])],1)],1)};t.render=n;var i=[];t.staticRenderFns=i},"664d":function(e,t,a){"use strict";a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7f7f");var n={props:["open","openDeleteConfirmation"],data:function(){return{}},computed:{ads:function(){return this.$store.getters["mobileAds/ads"]}},methods:{openDialog:function(e){this.$store.commit("mobileAds/updateSelectedAd",e),this.open()},confirm:function(e){this.$store.commit("mobileAds/updateSelectedAd",e),this.openDeleteConfirmation()},getScreenName:function(e){for(var t=this.$store.getters["mobileAds/adPages"],a=0;a<t.length;a++)if(t[a].id===e)return t[a].name},isAdEnded:function(e){if(null==e)return!1;var t=new Date,a=new Date(e);return a<=t}}};t.default=n},"6c38":function(e,t,a){"use strict";a.r(t);var n=a("ce9d"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"7e4c":function(e,t,a){"use strict";var n=a("e38f");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},8685:function(e,t,a){"use strict";var n=a("3668");a.o(n,"render")&&a.d(t,"render",(function(){return n["render"]})),a.o(n,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},ad9f:function(e,t,a){"use strict";a("e46e")},badd:function(e,t,a){"use strict";a.r(t);var n=a("2af4"),i=a("6c38");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);var r=a("2877"),o=Object(r["a"])(i["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},ce9d:function(e,t,a){"use strict";var n=a("4ea4");a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7f7f");var i=n(a("317b")),s=n(a("02dc")),r={components:{AdsList:i.default,AdDialog:s.default},data:function(){return{dialog:!1,loading:!1,newAd:!1,confirmationDialog:!1}},methods:{changePage:function(e){var t=this;this.loading=!0,this.$store.commit("mobileAds/resetAds"),this.$store.commit("mobileAds/setSelectedPage",e),this.$store.dispatch("mobileAds/fetchAds").finally((function(){t.loading=!1}))},open:function(){this.dialog=!0},close:function(){this.dialog=!1,this.newAd=!1,this.$store.commit("mobileAds/resetSelectedAd")},openNewDialog:function(){this.newAd=!0,this.open()},save:function(){var e=this;this.validateData(),this.createFormData(),this.loading=!0,this.newAd?this.$store.dispatch("mobileAds/createAd",this.formData).finally((function(){e.loading=!1,e.close()})):this.$store.dispatch("mobileAds/updateAd",this.formData).finally((function(){e.loading=!1,e.close()}))},validateData:function(){return!0},createFormData:function(){this.formData=new FormData,console.log(this.ad),this.formData.append("name",this.ad.name),this.formData.append("external",this.ad.external?1:0),this.formData.append("referer_link",this.ad.referer_link?this.ad.referer_link:""),this.formData.append("referer_screen",this.ad.referer_screen?this.ad.referer_screen:""),this.formData.append("ends_at",this.ad.ends_at?this.ad.ends_at:"");for(var e=0;e<this.ad.screens.length;e++){var t=this.ad.screens;"undefined"!==typeof t[e]["id"]?this.formData.append("screens[]",this.ad.screens[e].id):this.formData.append("screens[]",this.ad.screens[e])}this.formData.append("active",this.ad.active?1:0),this.ad.image&&this.formData.append("image",this.ad.image),this.ad.image_ar&&this.formData.append("image_ar",this.ad.image_ar)},deleteAd:function(){var e=this;this.loading=!0,this.$store.dispatch("mobileAds/deleteAd").finally((function(){e.loading=!1,e.closeConfirmationDialog()}))},openConfirmationDialog:function(){this.confirmationDialog=!0},closeConfirmationDialog:function(){this.confirmationDialog=!1,this.$store.commit("mobileAds/resetSelectedAd")}},computed:{pages:function(){return this.$store.getters["mobileAds/adPages"]},ad:function(){return this.$store.getters["mobileAds/selectedAd"]},selectedPage:{get:function(){return this.$store.getters["mobileAds/selectedPage"]},set:function(e){this.$store.commit("mobileAds/setSelectedPage",e),console.log(this.selectedPage)}}},created:function(){this.$store.dispatch("mobileAds/fetchAds")}};t.default=r},e38f:function(e,t,a){"use strict";a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,a("7f7f");var n=function(){var e=this,t=e._self._c;return t("div",[t("v-card-title",[e._v(" Mobile Ad ")]),t("v-card-text",[t("div",{staticClass:"profile-head app-card mb-30"},[t("div",{staticClass:"profile-top mt-4"},[t("v-img",{ref:"categoryImage",staticClass:"user-image text-center mb-4",attrs:{src:e.ad.src?e.ad.src:"https://via.placeholder.com/350x150.png",height:"200px",contain:""}},[t("v-card-title",[t("v-file-input",{attrs:{rules:e.rules,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an image","prepend-icon":"mdi-camera",label:"Image",clearable:"","hide-input":"","show-size":""},on:{change:function(t){return e.changeImage(t,"en")}},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}}),t("v-btn",{staticClass:"mb-30",attrs:{small:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.clearImageInput("en")}}},[e._v("\n              Remove Image\n            ")])],1)],1),t("v-img",{ref:"categoryImage",staticClass:"user-image text-center mb-8",attrs:{src:e.ad.src_ar?e.ad.src_ar:"https://via.placeholder.com/350x150.png",height:"200px",contain:""}},[t("v-card-title",[t("v-file-input",{attrs:{rules:e.rules,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an image","prepend-icon":"mdi-camera",label:"Image",clearable:"","hide-input":"","show-size":""},on:{change:function(t){return e.changeImage(t,"ar")}},model:{value:e.imageFileAr,callback:function(t){e.imageFileAr=t},expression:"imageFileAr"}}),t("v-btn",{staticClass:"mb-30",attrs:{small:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.clearImageInput("ar")}}},[e._v("\n              Remove Image\n            ")])],1)],1),t("div",{staticClass:"user-list-content"},[t("div",{staticClass:"text-center"},[t("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pb-0":""}},[t("div",{staticClass:"d-flex search-field-wrap justify-center"},[t("div",{staticClass:"w-70"},[t("v-text-field",{staticClass:"pt-0 pr-3",attrs:{label:"Name"},model:{value:e.ad.name,callback:function(t){e.$set(e.ad,"name",t)},expression:"ad.name"}}),t("v-switch",{attrs:{label:"External",color:"green","input-value":!1,loading:e.loading,disabled:e.loading},on:{change:function(e){}},model:{value:e.ad.external,callback:function(t){e.$set(e.ad,"external",t)},expression:"ad.external"}}),e.ad.external?t("v-text-field",{staticClass:"pt-2 pr-3",attrs:{label:"Referer",hint:"https://www.example.com"},model:{value:e.ad.referer_link,callback:function(t){e.$set(e.ad,"referer_link",t)},expression:"ad.referer_link"}}):t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-select",{attrs:{items:e.screens,"item-value":"id","item-text":"name",label:"Refers to",hint:"Select screen that ad will refer to","persistent-hint":""},model:{value:e.ad.referer_screen,callback:function(t){e.$set(e.ad,"referer_screen",t)},expression:"ad.referer_screen"}})],1),t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-select",{attrs:{items:e.screens,"item-value":"id","item-text":"name",label:"Appears on",multiple:"",chips:"",hint:"Select screens that ad will appear on","persistent-hint":""},model:{value:e.ad.screens,callback:function(t){e.$set(e.ad,"screens",t)},expression:"ad.screens"}})],1),t("v-row",{attrs:{justify:"center"}},[t("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.ad.ends_at,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.ad,"ends_at",t)},"update:return-value":function(t){return e.$set(e.ad,"ends_at",t)}},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on,i=a.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"Ends","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.ad.ends_at,callback:function(t){e.$set(e.ad,"ends_at",t)},expression:"ad.ends_at"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.ad.ends_at,callback:function(t){e.$set(e.ad,"ends_at",t)},expression:"ad.ends_at"}},[t("v-spacer"),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("\n                            Cancel\n                          ")]),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.ad.ends_at)}}},[e._v("\n                            OK\n                          ")])],1)],1)],1)],1),t("v-switch",{attrs:{label:"Active",color:"green","input-value":!1,loading:e.loading,disabled:e.loading},on:{change:function(e){}},model:{value:e.ad.active,callback:function(t){e.$set(e.ad,"active",t)},expression:"ad.active"}})],1)])])],1)])],1)])])],1)};t.render=n;var i=[];t.staticRenderFns=i},e46e:function(e,t,a){},e64e:function(e,t,a){"use strict";var n=a("4ea4");a("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("78ce"),a("8ea5");var i=n(a("3e34")),s={data:function(){return{VIEW:i.default.actions.view,CREATE:i.default.actions.create,UPDATE:i.default.actions.update,DELETE:i.default.actions.delete,RESOURCE:i.default.resources.notification,isNewOption:!1,loading:!1,loader:null,changed:!1,categoryNameDialog:!1,optionDialog:!1,confirmationDialog:!1,imageFile:null,imageFileAr:null,rules:[function(e){return!e||e.size<5e5||"Avatar size should be less than 2 MB!"}],rowStyle:{cursor:"pointer"},date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1}},computed:{ad:function(){return this.$store.getters["mobileAds/selectedAd"]},screens:function(){return this.$store.getters["mobileAds/adPages"]}},methods:{changeImage:function(e,t){console.log(e),"en"===t?(this.ad.src=URL.createObjectURL(e),this.ad.image=e):(this.ad.src_ar=URL.createObjectURL(e),this.ad.image_ar=e)},send:function(){var e=this;this.loading=!0,this.isFormDataValid()?(this.appendFormDataParams(),this.$store.dispatch("notifications/sendCampaign",this.campaignFormData).finally((function(){e.loading=!1}))):(this.$notify({group:"loggedIn",type:"error",text:"Title and Body in English and Arabic are required"}),this.loading=!1)},isFormDataValid:function(){return!(""===this.campaign.title||""===this.campaign.title_ar||""===this.campaign.body||""===this.campaign.body_ar)},clearImageInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";this.changed=!0,"en"===e?(this.ad.src="https://via.placeholder.com/350x150",delete this.ad.image,this.imageFile=null):(this.ad.src_ar="https://via.placeholder.com/350x150",delete this.ad.image_ar,this.imageFileAr=null),console.log(this.ad)}}};t.default=s}}]);